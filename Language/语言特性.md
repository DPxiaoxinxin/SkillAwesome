# 语言特性

[TOC]

## 面向对象

### 概述

- 对数据进行抽象

### 特征

#### 继承

#### 封装

#### 多态

## 函数式编程

### 概述

- 对行为进行抽象
- 接收零个或多个参数，生成一个或多个结果，并且不会有任何的副作用(包括抛去异常)
- 引用透明性
  - 没有可感知的副作用
  - 一个函数只要传递同样的参数值，总是返回同样的结果

### 核心思想

- 方法和Lambda作为一等值
- 在没有可变共享状态时，函数或方法可以有效、安全地并行

### 为什么要进行函数式编程

函数式编程实践了声明式编程和无副作用计算，这两个思想更容易地构建和维护系统

- 声明式编程
  - 与“命令式编程”关注怎么做不同，声明式编程更关注做什么，把具体细节留给函数内部实现
- 无副作用计算
  - 一个方法既不修改它内嵌类的状态，也不修改其它对象的状态，使用return返回所有的计算结果
  - 另一个角度看，无副作用可以考虑不可变对象，它们一旦完成初始化就不会被任何方法修改状态

### 递归和迭代

#### 迭代

- 纯粹的函数式编程语言通常都不包含像while或者for这样的迭代器
- 迭代可能会修改共享的对象状态

#### 递归

- **每个程序都能使用无需修改对象状态的递归重写，避免使用迭代**
- 递归可能导致栈溢出
  - 使用尾-递归，中间结果作为参数往下传递
    - Java还不支持尾-递归这种优化，尽量使用Stream或递归带代替迭代操作

### 函数式编程技巧

#### 高阶函数

- 概述
  - 接受至少一个函数作为参数
  - 返回的结果是一个函数
- 传递给高阶函数的函数应该是无副作用的

#### 科里化(Curring)

- 理论定义

  - 一种将具备2个参数(比如x和y)的函数转换为使用一个参数的函数g，并且这个函数的返回值也是一个函数，它会作为新函数的一个参数
  - 后者的返回值和初始函数的返回值相同，即f(x, y) = (g(x))(y)
  - 一个函数使用所有参数仅有部分被传递时，通常我们说这个函数是部分应用的(partially applied)

- 示例

  ``` java
     // 单位转换 
  
       static double converter(double x, double f, double b) {
  
          return x * f - b;
  
      }
  
       // curring后，可应用到多种转换规则
  
      static DoubleUnaryOperator curriedConverter(double f, double b) {
  
          return (double x) -> x * f + b;
  
      }
  
      public static void main(String[] args) {
  
          DoubleUnaryOperator convertCtoF = curriedConverter(9.0 / 5, 32);
  
          DoubleUnaryOperator convertUSDtoGBP = curriedConverter(0.6, 0);
  
          double gbp = convertUSDtoGBP.applyAsDouble(1000);
  
      }
  
   
  ```

#### 持久化数据结构

- 不改动现存的数据结构，创建新的数据，复制受影响的数据，重用未首影响的数据，生成新的数据结构并返回      